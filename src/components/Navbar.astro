---
import { navLinks, site } from "../config/site";

const pathname = Astro.url.pathname;
const isActive = (href: string) =>
  href === "/"
    ? pathname === "/"
    : pathname.startsWith(href);
---

<a href="#main" class="visually-hidden focus:not-sr-only focus:absolute focus:left-4 focus:top-4 focus:z-50 focus:px-3 focus:py-2 focus:rounded-md focus:bg-accent focus:text-black">
  Sla navigatie over
</a>

<header class="sticky top-0 z-40 border-b border-white/10 bg-black/30 backdrop-blur-md">
  <div class="container-px flex items-center justify-between py-4">
    <a href="/" class="inline-flex items-center gap-2 group" aria-label="BJORNOS home">
      <span class="h-3 w-3 rounded-full bg-accent/80 shadow-glow group-hover:bg-accent transition-colors"></span>
      <span class="font-display text-xl tracking-tight text-white group-hover:text-white">
        BJORNOS
      </span>
    </a>

    <!-- Desktop nav -->
    <nav class="hidden items-center gap-6 md:flex" aria-label="Hoofdnavigatie">
      {navLinks.map((item) => (
        <a
          href={item.href}
          class={`text-sm font-medium transition-colors ${isActive(item.href) ? "text-white" : "text-white/70 hover:text-white"}`}
        >
          {item.label}
        </a>
      ))}
      <a href="/contact" class="btn btn-primary ml-2">Book Me</a>
    </nav>

    <!-- Mobile nav -->
    <details class="md:hidden">
      <summary class="list-none inline-flex items-center gap-2 rounded-full border border-white/10 px-3 py-2 text-white/90 hover:bg-white/5">
        <span class="sr-only">Menu</span>
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
        </svg>
      </summary>
      <div class="mt-3 w-[calc(100vw-2rem)] rounded-2xl border border-white/10 bg-black/80 p-3 shadow-xl backdrop-blur-xl">
        <nav class="flex flex-col" aria-label="Mobiele navigatie">
          {navLinks.map((item) => (
            <a
              href={item.href}
              class={`rounded-lg px-3 py-2 text-base transition-colors ${isActive(item.href) ? "bg-white/10 text-white" : "text-white/80 hover:text-white hover:bg-white/5"}`}
            >
              {item.label}
            </a>
          ))}
          <a href="/contact" class="btn btn-primary mt-2">Book Me</a>
        </nav>
      </div>
    </details>
  </div>
</header>
